webpackJsonp([6],{"7zck":function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("7+uW"),a=r("3EgV"),s=r.n(a);r("7zck"),r("Ui3i");n.default.use(s.a);var c=new s.a({theme:{themes:{light:{primary:"#2D3753",secondary:"#2D3753",accent:"#3AE3D6",error:"#f44336",info:"#2d3753",success:"#7a904a",warning:"#f78012"}}}}),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},u=r("VU/8")({name:"App"},o,!1,null,null,null).exports,i=r("NYxO"),d=r("Xxa5"),p=r.n(d),l=r("exGp"),f=r.n(l),m=r("//Fk"),h=r.n(m),v=r("mtWM"),T=r.n(v).a.create({baseURL:"https://ut-store-be.herokuapp.com/api/v1/",headers:{"Content-Type":"application/json"}});T.interceptors.request.use(function(t){return console.log({request:t}),t},function(t){return h.a.reject(t)}),T.interceptors.response.use(function(t){return console.log({response:t}),t},function(t){return h.a.reject(t)});var g=T,S={namespaced:!0,state:{products:[],totalItems:null,totalPages:null,currentPage:null,totalProducts:0,cartProducts:[],cartTotal:0},actions:{addProduct:function(t,e){(0,t.commit)("ADD_PRODUCT",e)},deleteFromCart:function(t,e){(0,t.commit)("DELETE_FROM_CART",e)},getAllProducts:function(t){var e=this,r=t.commit;return f()(p.a.mark(function t(){var n,a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.get("product");case 3:n=t.sent,a=n.data,console.log("ALL PRODUCTS",a),r("SET_PRODUCTS",{data:a}),r("SET_TOTAL_PRODUCTS",a.data.totalItems),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log({error:t.t0.message});case 13:case"end":return t.stop()}},t,e,[[0,10]])}))()},create:function(t,e){var r=this,n=t.dispatch;return f()(p.a.mark(function t(){var a,s,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.post("product",e);case 3:return a=t.sent,s=a.data,t.next=7,n("getAllProducts");case 7:return t.abrupt("return",s);case 10:throw t.prev=10,t.t0=t.catch(0),c=t.t0.response,new Error(c.data.message);case 14:case"end":return t.stop()}},t,r,[[0,10]])}))()},update:function(t,e){var r=this,n=t.dispatch;return f()(p.a.mark(function t(){var a,s,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.put("product/"+e.get("id"),e);case 3:return a=t.sent,s=a.data,t.next=7,n("getAllProducts");case 7:return t.abrupt("return",s);case 10:throw t.prev=10,t.t0=t.catch(0),c=t.t0.response,new Error(c.data.message);case 14:case"end":return t.stop()}},t,r,[[0,10]])}))()},delete:function(t,e){var r=this,n=t.dispatch;return f()(p.a.mark(function t(){var a,s,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.delete("product/"+e.id);case 3:return a=t.sent,s=a.data,t.next=7,n("getAllProducts");case 7:return t.abrupt("return",s);case 10:throw t.prev=10,t.t0=t.catch(0),c=t.t0.response,new Error(c.data.message);case 14:case"end":return t.stop()}},t,r,[[0,10]])}))()}},mutations:{ADD_PRODUCT:function(t,e){t.cartProducts.push(e),t.cartTotal=t.cartProducts.length},DELETE_FROM_CART:function(t,e){if(t.cartProducts.length>0){var r=t.cartProducts.findIndex(function(t){return t.id===e.id});t.cartProducts.splice(r,1),t.cartTotal=t.cartProducts.length}else t.cartProducts=[],t.cartTotal=0},SET_PRODUCTS:function(t,e){t.products=e.data.data.Product,t.totalItems=e.data.data.totalItems,t.totalPages=e.data.data.totalPages,t.currentPage=e.data.data.currentPage},SET_TOTAL_PRODUCTS:function(t,e){t.totalProducts=e}}},w={namespaced:!0,state:{discounts:[],totalDiscounts:0},actions:{getAllDiscounts:function(t){var e=this,r=t.commit;return f()(p.a.mark(function t(){var n,a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.get("discount");case 3:n=t.sent,a=n.data,r("SET_DISCOUNTS",{data:a}),r("SET_TOTAL_DISCOUNTS",a.data.totalItems),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log({error:t.t0.message});case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()},create:function(t,e){var r=this,n=t.dispatch;return f()(p.a.mark(function t(){var a,s,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.post("discount",e);case 3:return a=t.sent,s=a.data,t.next=7,n("getAllDiscounts");case 7:return t.abrupt("return",s);case 10:throw t.prev=10,t.t0=t.catch(0),c=t.t0.response,new Error(c.data.message);case 14:case"end":return t.stop()}},t,r,[[0,10]])}))()},update:function(t,e){var r=this,n=t.dispatch;return f()(p.a.mark(function t(){var a,s,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.put("discount/"+e.get("id"),e);case 3:return a=t.sent,s=a.data,t.next=7,n("getAllDiscounts");case 7:return t.abrupt("return",s);case 10:throw t.prev=10,t.t0=t.catch(0),c=t.t0.response,new Error(c.data.message);case 14:case"end":return t.stop()}},t,r,[[0,10]])}))()},delete:function(t,e){var r=this,n=t.dispatch;return f()(p.a.mark(function t(){var a,s,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.delete("discount/"+e.id);case 3:return a=t.sent,s=a.data,t.next=7,n("getAllDiscounts");case 7:return t.abrupt("return",s);case 10:throw t.prev=10,t.t0=t.catch(0),c=t.t0.response,new Error(c.data.message);case 14:case"end":return t.stop()}},t,r,[[0,10]])}))()}},mutations:{SET_DISCOUNTS:function(t,e){console.log(e),t.discounts=e.data.data.Discount},SET_TOTAL_DISCOUNTS:function(t,e){t.totaldiscounts=e}}},E={namespaced:!0,state:{orders:[],totalOrders:0},actions:{getAllOrders:function(t){var e=this,r=t.commit;return f()(p.a.mark(function t(){var n,a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.get("order");case 3:n=t.sent,a=n.data,r("SET_ORDERS",{data:a}),r("SET_TOTAL_ORDERS",a.data.totalItems),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log({error:t.t0.message});case 12:case"end":return t.stop()}},t,e,[[0,9]])}))()},create:function(t,e){var r=this,n=t.dispatch;return f()(p.a.mark(function t(){var a,s,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={user_id:1,data:e},t.next=4,g.post("order",a);case 4:return s=t.sent,t.next=7,n("getAllOrders");case 7:return t.abrupt("return",s);case 10:throw t.prev=10,t.t0=t.catch(0),c=t.t0.response,new Error(c.data.message);case 14:case"end":return t.stop()}},t,r,[[0,10]])}))()},update:function(t,e){var r=this,n=t.dispatch;return f()(p.a.mark(function t(){var a,s,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.put("order/"+e.get("id"),e);case 3:return a=t.sent,s=a.data,t.next=7,n("getAllOrders");case 7:return t.abrupt("return",s);case 10:throw t.prev=10,t.t0=t.catch(0),c=t.t0.response,new Error(c.data.message);case 14:case"end":return t.stop()}},t,r,[[0,10]])}))()},delete:function(t,e){var r=this,n=t.dispatch;return f()(p.a.mark(function t(){var a,s,c;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.delete("order/"+e.id);case 3:return a=t.sent,s=a.data,t.next=7,n("getAllOrders");case 7:return t.abrupt("return",s);case 10:throw t.prev=10,t.t0=t.catch(0),c=t.t0.response,new Error(c.data.message);case 14:case"end":return t.stop()}},t,r,[[0,10]])}))()}},mutations:{SET_ORDERS:function(t,e){console.log(e),t.orders=e.data.data.Payment},SET_TOTAL_ORDERS:function(t,e){t.totalOrders=e}}},_=r("mvHQ"),x=r.n(_),O={namespaced:!0,state:{users:[],currentUser:{},token:null,totalUsers:0},mutations:{SET_USERS:function(t,e){t.users=e},SET_TOTAL_USERS:function(t,e){t.totalUsers=e},LOGOUT_USER:function(t){t.currentUser={},window.localStorage.clear(),t.token=null},SET_CURRENT_USER:function(t,e){t.currentUser={user:e},window.localStorage.currentUser=x()(e)},SET_AUTH_TOKEN:function(t,e){t.token=e}},actions:{loadAll:function(t){var e=this,r=t.commit;return f()(p.a.mark(function t(){var n,a,s;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.get("/user");case 2:n=t.sent,a=n.data.data,s=n.data.data.totalItems,r("SET_TOTAL_USERS",s),r("SET_USERS",a);case 7:case"end":return t.stop()}},t,e)}))()},totalUser:function(){var t=this;return f()(p.a.mark(function e(){var r;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.get("/user");case 2:return r=t.sent,t.abrupt("return",r.data.data.totalItem);case 4:case"end":return t.stop()}},e,t)}))()},loadCurrent:function(t){var e=this,r=t.commit;return f()(p.a.mark(function t(){var n;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=JSON.parse(window.localStorage.currentUser),r("SET_CURRENT_USER",n);case 2:case"end":return t.stop()}},t,e)}))()},logout:function(t){(0,t.commit)("LOGOUT_USER")},login:function(t,e){var r=this,n=t.commit;return f()(p.a.mark(function t(){var a,s;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("TOKEN: ",e),t.next=4,g.post("/auth/login",{data:e});case 4:if(void 0!==(a=t.sent).error){t.next=13;break}return s=a.data.data.token,n("SET_CURRENT_USER",a.data.data),n("SET_AUTH_TOKEN",s),g.defaults.headers.Authorization="Bearer "+s,t.abrupt("return",{status:"success",msg:a.data.data.username});case 13:return t.abrupt("return",{status:"error",msg:a.error});case 14:t.next=19;break;case 16:return t.prev=16,t.t0=t.catch(0),t.abrupt("return",{status:"error",msg:t.t0.message});case 19:case"end":return t.stop()}},t,r,[[0,16]])}))()}},getters:{currentUser:function(t){return t.currentUser},isLogIn:function(t){return g.defaults.headers.Authorization="Bearer "+t.token,!!t.token}}};n.default.use(i.a);var U=new i.a.Store({modules:{products:S,discounts:w,orders:E,template:{namespaced:!0,state:{logoutMenuOpen:!1},actions:{openCloseLogoutMenu:function(t){(0,t.commit)("SET_STATUS_MENU")}},mutations:{SET_STATUS_MENU:function(t){t.logoutMenuOpen=!t.logoutMenuOpen}}},snackbar:{namespaced:!0,state:{snackbars:[]},mutations:{SET_SNACKBAR:function(t,e){t.snackbars=t.snackbars.concat(e)}},actions:{setSnackbar:function(t,e){var r=t.commit;e.showing=!0,e.color=e.color||"success",r("SET_SNACKBAR",e)}},getters:{},modules:{}},users:O}}),A=r("/ocq");n.default.filter("toCurrency",function(t){return t?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t):t});var R=[{path:"/",name:"home",redirect:{name:"dashboard"},component:function(){return Promise.all([r.e(0),r.e(2)]).then(r.bind(null,"Cl3J"))},meta:{requiresAuth:!0},children:[{name:"dashboard",path:"",component:function(){return Promise.all([r.e(0),r.e(3)]).then(r.bind(null,"aEEp"))}},{path:"carts",name:"carts",component:function(){return Promise.all([r.e(0),r.e(1)]).then(r.bind(null,"Zc39"))}},{path:"product/:id/detail",name:"product-detail",component:function(){return Promise.all([r.e(0),r.e(4)]).then(r.bind(null,"Cwn0"))}}]}];n.default.use(A.a);var k=new A.a({routes:R,mode:"history"});n.default.config.productionTip=!1,new n.default({el:"#app",store:U,router:k,vuetify:c,components:{App:u},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.471276b34fbef6920ebb.js.map